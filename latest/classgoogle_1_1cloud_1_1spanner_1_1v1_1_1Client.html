<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google Cloud Spanner C++ Client: google::cloud::spanner::v1::Client Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Google Cloud Spanner C++ Client
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">A C++ Client Library for Google Cloud Spanner</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegoogle.html">google</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud.html">cloud</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html">v1</a></li><li class="navelem"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google::cloud::spanner::v1::Client Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Performs database client operations on Spanner.  
 <a href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="client_8h_source.html">google/cloud/spanner/client.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4902b2cd24fa30e7a28fb64a223b68a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a4902b2cd24fa30e7a28fb64a223b68a1">Client</a> (std::shared_ptr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html">Connection</a> &gt; conn, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ClientOptions.html">ClientOptions</a> opts={})</td></tr>
<tr class="memdesc:a4902b2cd24fa30e7a28fb64a223b68a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a></code> object using the specified <code>conn</code> and <code>opts</code>.  <a href="#a4902b2cd24fa30e7a28fb64a223b68a1">More...</a><br /></td></tr>
<tr class="separator:a4902b2cd24fa30e7a28fb64a223b68a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ad4cf1788737e8c76d7e67c13d6a33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a48ad4cf1788737e8c76d7e67c13d6a33">Client</a> ()=delete</td></tr>
<tr class="memdesc:a48ad4cf1788737e8c76d7e67c13d6a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">No default construction. Use <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a>(std::shared_ptr&lt;<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html" title="A connection to a Spanner database instance.">Connection</a>&gt;)</code>  <a href="#a48ad4cf1788737e8c76d7e67c13d6a33">More...</a><br /></td></tr>
<tr class="separator:a48ad4cf1788737e8c76d7e67c13d6a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ac726c9bbff70d2948d3dc2f11a19a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a24ac726c9bbff70d2948d3dc2f11a19a">Read</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadPartition.html">ReadPartition</a> const &amp;partition)</td></tr>
<tr class="memdesc:a24ac726c9bbff70d2948d3dc2f11a19a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads rows from a subset of rows in a database.  <a href="#a24ac726c9bbff70d2948d3dc2f11a19a">More...</a><br /></td></tr>
<tr class="separator:a24ac726c9bbff70d2948d3dc2f11a19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb890671663af5bbfc3e409d98db98cf"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadPartition.html">ReadPartition</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#abb890671663af5bbfc3e409d98db98cf">PartitionRead</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, std::string table, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a> keys, std::vector&lt; std::string &gt; columns, <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a> read_options={}, <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a> const &amp;partition_options=<a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a>{})</td></tr>
<tr class="memdesc:abb890671663af5bbfc3e409d98db98cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a set of partitions that can be used to execute a read operation in parallel.  <a href="#abb890671663af5bbfc3e409d98db98cf">More...</a><br /></td></tr>
<tr class="separator:abb890671663af5bbfc3e409d98db98cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322867f2d4e574e6bf73008946604ed2"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryPartition.html">QueryPartition</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a322867f2d4e574e6bf73008946604ed2">PartitionQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a> const &amp;partition_options=<a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a>{})</td></tr>
<tr class="memdesc:a322867f2d4e574e6bf73008946604ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a set of partitions that can be used to execute a query operation in parallel.  <a href="#a322867f2d4e574e6bf73008946604ed2">More...</a><br /></td></tr>
<tr class="separator:a322867f2d4e574e6bf73008946604ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127aff25698e5e4df8daf169bf67e0f6"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1DmlResult.html">DmlResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a127aff25698e5e4df8daf169bf67e0f6">ExecuteDml</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a127aff25698e5e4df8daf169bf67e0f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a SQL DML statement.  <a href="#a127aff25698e5e4df8daf169bf67e0f6">More...</a><br /></td></tr>
<tr class="separator:a127aff25698e5e4df8daf169bf67e0f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21455de67af4f689627a95c9d2d641a"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileDmlResult.html">ProfileDmlResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#ad21455de67af4f689627a95c9d2d641a">ProfileDml</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:ad21455de67af4f689627a95c9d2d641a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Profiles a SQL DML statement.  <a href="#ad21455de67af4f689627a95c9d2d641a">More...</a><br /></td></tr>
<tr class="separator:ad21455de67af4f689627a95c9d2d641a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ac04a41e0ba9a677306e65b758fb1d"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a57eb7dbf9c7a4bd4b33dd3a96fe56dd1">ExecutionPlan</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a97ac04a41e0ba9a677306e65b758fb1d">AnalyzeSql</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a97ac04a41e0ba9a677306e65b758fb1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyzes the execution plan of a SQL statement.  <a href="#a97ac04a41e0ba9a677306e65b758fb1d">More...</a><br /></td></tr>
<tr class="separator:a97ac04a41e0ba9a677306e65b758fb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae86c2fcc13a3f2fb73a69cc144e932d7"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1BatchDmlResult.html">BatchDmlResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#ae86c2fcc13a3f2fb73a69cc144e932d7">ExecuteBatchDml</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> &gt; statements)</td></tr>
<tr class="memdesc:ae86c2fcc13a3f2fb73a69cc144e932d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a batch of SQL DML statements.  <a href="#ae86c2fcc13a3f2fb73a69cc144e932d7">More...</a><br /></td></tr>
<tr class="separator:ae86c2fcc13a3f2fb73a69cc144e932d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346849faf2fd4dc1b60dcbdbea9cde88"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a346849faf2fd4dc1b60dcbdbea9cde88">Commit</a> (std::function&lt; StatusOr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a> &gt;(<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>)&gt; const &amp;mutator, std::unique_ptr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#aa48b9b1b133a8212ab096b0e80a7d879">TransactionRerunPolicy</a> &gt; rerun_policy, std::unique_ptr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a82490621a0064a08ed19471b8eee2c1a">BackoffPolicy</a> &gt; backoff_policy)</td></tr>
<tr class="memdesc:a346849faf2fd4dc1b60dcbdbea9cde88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a read-write transaction.  <a href="#a346849faf2fd4dc1b60dcbdbea9cde88">More...</a><br /></td></tr>
<tr class="separator:a346849faf2fd4dc1b60dcbdbea9cde88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9758dc1282896a32575ea14658be51"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a1c9758dc1282896a32575ea14658be51">Commit</a> (std::function&lt; StatusOr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a> &gt;(<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>)&gt; const &amp;mutator)</td></tr>
<tr class="memdesc:a1c9758dc1282896a32575ea14658be51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a read-write transaction.  <a href="#a1c9758dc1282896a32575ea14658be51">More...</a><br /></td></tr>
<tr class="separator:a1c9758dc1282896a32575ea14658be51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d9ee7795112225c16e817031c0b284"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a92d9ee7795112225c16e817031c0b284">Commit</a> (<a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a> mutations)</td></tr>
<tr class="memdesc:a92d9ee7795112225c16e817031c0b284"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits the given <code>mutations</code> atomically in order.  <a href="#a92d9ee7795112225c16e817031c0b284">More...</a><br /></td></tr>
<tr class="separator:a92d9ee7795112225c16e817031c0b284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10b1a02b140c2ac637a812cc0ddca18"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#ab10b1a02b140c2ac637a812cc0ddca18">Commit</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a> mutations)</td></tr>
<tr class="memdesc:ab10b1a02b140c2ac637a812cc0ddca18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a read-write transaction.  <a href="#ab10b1a02b140c2ac637a812cc0ddca18">More...</a><br /></td></tr>
<tr class="separator:ab10b1a02b140c2ac637a812cc0ddca18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7974b9225d19a93e51f5fd98267e57cb"><td class="memItemLeft" align="right" valign="top">Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a7974b9225d19a93e51f5fd98267e57cb">Rollback</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction)</td></tr>
<tr class="memdesc:a7974b9225d19a93e51f5fd98267e57cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rolls back a read-write transaction, releasing any locks it holds.  <a href="#a7974b9225d19a93e51f5fd98267e57cb">More...</a><br /></td></tr>
<tr class="separator:a7974b9225d19a93e51f5fd98267e57cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916863fa9eb7e9865a51e9af4c590f52"><td class="memItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionedDmlResult.html">PartitionedDmlResult</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a916863fa9eb7e9865a51e9af4c590f52">ExecutePartitionedDml</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement)</td></tr>
<tr class="memdesc:a916863fa9eb7e9865a51e9af4c590f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a Partitioned DML SQL query.  <a href="#a916863fa9eb7e9865a51e9af4c590f52">More...</a><br /></td></tr>
<tr class="separator:a916863fa9eb7e9865a51e9af4c590f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a7d82a5edf029112084179f50fee60f18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a7d82a5edf029112084179f50fee60f18">Client</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;)=default</td></tr>
<tr class="separator:a7d82a5edf029112084179f50fee60f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d5527f75e7e7117fc6582ac3ec3b01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a74d5527f75e7e7117fc6582ac3ec3b01">operator=</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;)=default</td></tr>
<tr class="separator:a74d5527f75e7e7117fc6582ac3ec3b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc285df050afaf1db17eccf9e47d7de9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#acc285df050afaf1db17eccf9e47d7de9">Client</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> &amp;&amp;)=default</td></tr>
<tr class="separator:acc285df050afaf1db17eccf9e47d7de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5121dc87307b073b544b274ca4228c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#add5121dc87307b073b544b274ca4228c">operator=</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> &amp;&amp;)=default</td></tr>
<tr class="separator:add5121dc87307b073b544b274ca4228c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:aacc341173c9c42bba0d0ee772054a874"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#aacc341173c9c42bba0d0ee772054a874">Read</a> (std::string table, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a> keys, std::vector&lt; std::string &gt; columns, <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a> read_options={})</td></tr>
<tr class="memdesc:aacc341173c9c42bba0d0ee772054a874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads rows from the database using key lookups and scans, as a simple key/value style alternative to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">ExecuteQuery()</a></code>.  <a href="#aacc341173c9c42bba0d0ee772054a874">More...</a><br /></td></tr>
<tr class="separator:aacc341173c9c42bba0d0ee772054a874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af283b64268cef43bab44a1552a9d44a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#af283b64268cef43bab44a1552a9d44a4">Read</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html">Transaction::SingleUseOptions</a> transaction_options, std::string table, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a> keys, std::vector&lt; std::string &gt; columns, <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a> read_options={})</td></tr>
<tr class="memdesc:af283b64268cef43bab44a1552a9d44a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads rows from the database using key lookups and scans, as a simple key/value style alternative to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">ExecuteQuery()</a></code>.  <a href="#af283b64268cef43bab44a1552a9d44a4">More...</a><br /></td></tr>
<tr class="separator:af283b64268cef43bab44a1552a9d44a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0bbf323909bc46958080cc1df2d839c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#ac0bbf323909bc46958080cc1df2d839c">Read</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, std::string table, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a> keys, std::vector&lt; std::string &gt; columns, <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a> read_options={})</td></tr>
<tr class="memdesc:ac0bbf323909bc46958080cc1df2d839c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads rows from the database using key lookups and scans, as a simple key/value style alternative to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">ExecuteQuery()</a></code>.  <a href="#ac0bbf323909bc46958080cc1df2d839c">More...</a><br /></td></tr>
<tr class="separator:ac0bbf323909bc46958080cc1df2d839c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a596d14f1d9ef6c8dd9e1777322bcd862"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862">ExecuteQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a596d14f1d9ef6c8dd9e1777322bcd862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a SQL query.  <a href="#a596d14f1d9ef6c8dd9e1777322bcd862">More...</a><br /></td></tr>
<tr class="separator:a596d14f1d9ef6c8dd9e1777322bcd862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827034dccbec971ab702abe4ebc88ccb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a827034dccbec971ab702abe4ebc88ccb">ExecuteQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html">Transaction::SingleUseOptions</a> transaction_options, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a827034dccbec971ab702abe4ebc88ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a SQL query.  <a href="#a827034dccbec971ab702abe4ebc88ccb">More...</a><br /></td></tr>
<tr class="separator:a827034dccbec971ab702abe4ebc88ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f5bf404e83771953e48016f83af60b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a48f5bf404e83771953e48016f83af60b">ExecuteQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a48f5bf404e83771953e48016f83af60b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a SQL query.  <a href="#a48f5bf404e83771953e48016f83af60b">More...</a><br /></td></tr>
<tr class="separator:a48f5bf404e83771953e48016f83af60b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefbf19fbd42382137dde7a08ee66260"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#abefbf19fbd42382137dde7a08ee66260">ExecuteQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryPartition.html">QueryPartition</a> const &amp;partition, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:abefbf19fbd42382137dde7a08ee66260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a SQL query on a subset of rows in a database.  <a href="#abefbf19fbd42382137dde7a08ee66260">More...</a><br /></td></tr>
<tr class="separator:abefbf19fbd42382137dde7a08ee66260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a19baaf4e7c20ed6dfc25d5c2b13d5203"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html">ProfileQueryResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a19baaf4e7c20ed6dfc25d5c2b13d5203">ProfileQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a19baaf4e7c20ed6dfc25d5c2b13d5203"><td class="mdescLeft">&#160;</td><td class="mdescRight">Profiles a SQL query.  <a href="#a19baaf4e7c20ed6dfc25d5c2b13d5203">More...</a><br /></td></tr>
<tr class="separator:a19baaf4e7c20ed6dfc25d5c2b13d5203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710d5f0e198e4598ebfcfa644654dc38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html">ProfileQueryResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a710d5f0e198e4598ebfcfa644654dc38">ProfileQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html">Transaction::SingleUseOptions</a> transaction_options, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:a710d5f0e198e4598ebfcfa644654dc38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Profiles a SQL query.  <a href="#a710d5f0e198e4598ebfcfa644654dc38">More...</a><br /></td></tr>
<tr class="separator:a710d5f0e198e4598ebfcfa644654dc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c24c9cfa6bea83f8e677f8574599a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html">ProfileQueryResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#ab2c24c9cfa6bea83f8e677f8574599a2">ProfileQuery</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a> transaction, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> statement, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;opts={})</td></tr>
<tr class="memdesc:ab2c24c9cfa6bea83f8e677f8574599a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Profiles a SQL query.  <a href="#ab2c24c9cfa6bea83f8e677f8574599a2">More...</a><br /></td></tr>
<tr class="separator:ab2c24c9cfa6bea83f8e677f8574599a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:aa16bd9e5da51b688f3821b7cf0fa68d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#aa16bd9e5da51b688f3821b7cf0fa68d6">operator==</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;a, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;b)</td></tr>
<tr class="separator:aa16bd9e5da51b688f3821b7cf0fa68d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c65defdbe0a5050bffb796424b116b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a21c65defdbe0a5050bffb796424b116b">operator!=</a> (<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;a, <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;b)</td></tr>
<tr class="separator:a21c65defdbe0a5050bffb796424b116b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performs database client operations on Spanner. </p>
<p>Applications use this class to perform operations on <a href="https://cloud.google.com/spanner/docs/api-libraries-overview">Spanner Databases</a>.</p>
<dl class="section user"><dt>Performance</dt><dd></dd></dl>
<p><code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a></code> objects are relatively cheap to create, copy, and move. However, each <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a></code> object must be created with a <code>std::shared_ptr&lt;<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html" title="A connection to a Spanner database instance.">Connection</a>&gt;</code>, which itself is relatively expensive to create. Therefore, connection instances should be shared when possible. See the <code><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#aef558059b23cddd57ddbb33ac4825ae4" title="Returns a Connection object that can be used for interacting with Spanner.">MakeConnection()</a></code> method and the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html" title="A connection to a Spanner database instance.">Connection</a></code> interface for more details.</p>
<dl class="section user"><dt>Thread Safety</dt><dd></dd></dl>
<p>Instances of this class created via copy-construction or copy-assignment share the underlying pool of connections. Access to these copies via multiple threads is guaranteed to work. Two threads operating on the same instance of this class is not guaranteed to work.</p>
<dl class="section user"><dt>Error Handling</dt><dd></dd></dl>
<p>This class uses <code>StatusOr&lt;T&gt;</code> to report errors. When an operation fails to perform its work the returned <code>StatusOr&lt;T&gt;</code> contains the error details. If the <code>ok()</code> member function in the <code>StatusOr&lt;T&gt;</code> returns <code>true</code> then it contains the expected result. Please consult the <a href="#google::cloud::v0::StatusOr"><code>StatusOr&lt;T&gt;</code> documentation</a> for more details.</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line"><span class="keyword">auto</span> db = spanner::Database(<span class="stringliteral">&quot;my_project&quot;</span>, <span class="stringliteral">&quot;my_instance&quot;</span>, <span class="stringliteral">&quot;my_db_id&quot;</span>));</div><div class="line"><span class="keyword">auto</span> conn = <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#aef558059b23cddd57ddbb33ac4825ae4">spanner::MakeConnection</a>(db);</div><div class="line"><span class="keyword">auto</span> client = spanner::Client(conn);</div><div class="line"></div><div class="line"><span class="keyword">auto</span> rows = client.Read(...);</div><div class="line"><span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::string&gt;;</div><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">  <span class="comment">// ...</span></div><div class="line">}</div></div><!-- fragment --><dl class="section user"><dt>Query Options</dt><dd></dd></dl>
<p>Most operations that take an <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html" title="Represents a potentially parameterized SQL statement.">SqlStatement</a></code> may also be modified with <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code>. These options can be set at various levels, with more specific levels taking precedence over broader ones. For example, <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> that are passed directly to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">Client::ExecuteQuery()</a></code> will take precedence over the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a></code>-level defaults (if any), which will themselves take precedence over any environment variables. The following table shows the environment variables that may optionally be set and the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> setting that they affect.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Environment Variable  </th><th class="markdownTableHeadNone"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a> setting   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>SPANNER_OPTIMIZER_VERSION</code>  </td><td class="markdownTableBodyNone"><code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html#a2b9f1f49447d71165be59293d11a5eb3" title="Returns the optimizer version.">QueryOptions::optimizer_version()</a></code>   </td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00113">113</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4902b2cd24fa30e7a28fb64a223b68a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4902b2cd24fa30e7a28fb64a223b68a1">&#9670;&nbsp;</a></span>Client() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v1::Client::Client </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html">Connection</a> &gt;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ClientOptions.html">ClientOptions</a>&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a></code> object using the specified <code>conn</code> and <code>opts</code>. </p>
<p>See <code><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#aef558059b23cddd57ddbb33ac4825ae4" title="Returns a Connection object that can be used for interacting with Spanner.">MakeConnection()</a></code> for how to create a connection to Spanner. To help with unit testing, callers may create fake/mock <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html" title="A connection to a Spanner database instance.">Connection</a></code> objects that are injected into the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a></code>. </p>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00122">122</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a48ad4cf1788737e8c76d7e67c13d6a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ad4cf1788737e8c76d7e67c13d6a33">&#9670;&nbsp;</a></span>Client() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v1::Client::Client </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>No default construction. Use <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html" title="Performs database client operations on Spanner.">Client</a>(std::shared_ptr&lt;<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Connection.html" title="A connection to a Spanner database instance.">Connection</a>&gt;)</code> </p>

</div>
</div>
<a id="a7d82a5edf029112084179f50fee60f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d82a5edf029112084179f50fee60f18">&#9670;&nbsp;</a></span>Client() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v1::Client::Client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acc285df050afaf1db17eccf9e47d7de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc285df050afaf1db17eccf9e47d7de9">&#9670;&nbsp;</a></span>Client() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::spanner::v1::Client::Client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a97ac04a41e0ba9a677306e65b758fb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ac04a41e0ba9a677306e65b758fb1d">&#9670;&nbsp;</a></span>AnalyzeSql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a57eb7dbf9c7a4bd4b33dd3a96fe56dd1">ExecutionPlan</a> &gt; google::cloud::spanner::v1::Client::AnalyzeSql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analyzes the execution plan of a SQL statement. </p>
<p>Analyzing provides the <code>ExecutionPlan</code>, but does not execute the SQL statement.</p>
<p>Operations inside read-write transactions might return <code>ABORTED</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<dl class="section note"><dt>Note</dt><dd>Single-use transactions are not supported with DML statements.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Execute this query as part of an existing transaction. </td></tr>
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line">  <span class="comment">// Only SQL queries with a Distributed Union as the first operator in the</span></div><div class="line">  <span class="comment">// `ExecutionPlan` can be partitioned.</span></div><div class="line">  <span class="keyword">auto</span> is_partitionable = [](<a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a57eb7dbf9c7a4bd4b33dd3a96fe56dd1">spanner::ExecutionPlan</a> <span class="keyword">const</span>&amp; plan) {</div><div class="line">    <span class="keywordflow">return</span> (!plan.plan_nodes().empty() &amp;&amp;</div><div class="line">            plan.plan_nodes(0).kind() ==</div><div class="line">                google::spanner::v1::PlanNode::RELATIONAL &amp;&amp;</div><div class="line">            plan.plan_nodes(0).display_name() == <span class="stringliteral">&quot;Distributed Union&quot;</span>);</div><div class="line">  };</div><div class="line"></div><div class="line">  google::cloud::StatusOr&lt;spanner::ExecutionPlan&gt; plan = client.AnalyzeSql(</div><div class="line">      <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#afb1ad5a6098b32b3a40d52344339d791">spanner::MakeReadOnlyTransaction</a>(),</div><div class="line">      spanner::SqlStatement(</div><div class="line">          <span class="stringliteral">&quot;SELECT SingerId, FirstName, LastName FROM Singers&quot;</span>));</div><div class="line">  <span class="keywordflow">if</span> (!plan) <span class="keywordflow">throw</span> std::runtime_error(plan.status().message());</div><div class="line">  <span class="keywordflow">if</span> (!is_partitionable(*plan)) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Query is not partitionable&quot;</span>);</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00173">173</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a346849faf2fd4dc1b60dcbdbea9cde88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a346849faf2fd4dc1b60dcbdbea9cde88">&#9670;&nbsp;</a></span>Commit() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt; google::cloud::spanner::v1::Client::Commit </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; StatusOr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a> &gt;(<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>)&gt; const &amp;&#160;</td>
          <td class="paramname"><em>mutator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#aa48b9b1b133a8212ab096b0e80a7d879">TransactionRerunPolicy</a> &gt;&#160;</td>
          <td class="paramname"><em>rerun_policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a82490621a0064a08ed19471b8eee2c1a">BackoffPolicy</a> &gt;&#160;</td>
          <td class="paramname"><em>backoff_policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits a read-write transaction. </p>
<p>Calls the <code>mutator</code> in the context of a new read-write transaction. The <code>mutator</code> can execute read/write operations using the transaction, and returns any additional <code>Mutations</code> to commit.</p>
<p>If the <code>mutator</code> succeeds and the transaction commits, then <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a346849faf2fd4dc1b60dcbdbea9cde88" title="Commits a read-write transaction.">Commit()</a></code> returns the <code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html" title="The result of committing a Transaction.">CommitResult</a></code>.</p>
<p>If the <code>mutator</code> returns a non-rerunnable status (according to the <code>rerun_policy</code>), the transaction is rolled back and that status is returned. Similarly, if the transaction fails to commit with a non- rerunnable status, that status is returned.</p>
<p>Otherwise the whole process repeats (subject to <code>rerun_policy</code> and <code>backoff_policy</code>), by building a new transaction and re-running the <code>mutator</code>. The lock priority of the operation increases after each rerun, meaning that the next attempt has a slightly better chance of success.</p>
<p>Note that the <code>mutator</code> should only return a rerunnable status when the transaction is no longer usable (e.g., it was aborted). Otherwise the transaction will be leaked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutator</td><td>the function called to create mutations </td></tr>
    <tr><td class="paramname">rerun_policy</td><td>controls for how long (or how many times) the mutator will be rerun after the transaction aborts. </td></tr>
    <tr><td class="paramname">backoff_policy</td><td>controls how long <code>Commit</code> waits between reruns.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Rethrows</td><td>any exception thrown by <code><code>mutator</code></code> (after rolling back the transaction). However, a <code>RuntimeStatusError</code> exception is instead consumed and converted into a <code>mutator</code> return value of the enclosed <code>Status</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> CommitWithPolicies(google::cloud::spanner::Client client) {</div><div class="line">  using ::google::cloud::StatusOr;</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  <span class="keyword">auto</span> commit = client.Commit(</div><div class="line">      [&amp;client](spanner::Transaction txn) -&gt; StatusOr&lt;spanner::Mutations&gt; {</div><div class="line">        <span class="keyword">auto</span> update = client.ExecuteDml(</div><div class="line">            std::move(txn),</div><div class="line">            spanner::SqlStatement(</div><div class="line">                <span class="stringliteral">&quot;UPDATE Albums SET MarketingBudget = MarketingBudget * 2&quot;</span></div><div class="line">                <span class="stringliteral">&quot; WHERE SingerId = 1 AND AlbumId = 1&quot;</span>));</div><div class="line">        <span class="keywordflow">if</span> (!update) <span class="keywordflow">return</span> update.status();</div><div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">spanner::Mutations</a>{};</div><div class="line">      },</div><div class="line">      <span class="comment">// Retry for up to 42 minutes.</span></div><div class="line">      <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a8fa903247d99d618ac8c4b95820a89fd">spanner::LimitedTimeTransactionRerunPolicy</a>(std::chrono::minutes(42))</div><div class="line">          .clone(),</div><div class="line">      <span class="comment">// After a failure backoff for 2 seconds (with jitter), then triple the</span></div><div class="line">      <span class="comment">// backoff time on each retry, up to 5 minutes.</span></div><div class="line">      <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#afc88c5a7d61b451fac89c920aa5a330c">spanner::ExponentialBackoffPolicy</a>(std::chrono::seconds(2),</div><div class="line">                                        std::chrono::minutes(5), 3.0)</div><div class="line">          .clone());</div><div class="line">  <span class="keywordflow">if</span> (!commit) <span class="keywordflow">throw</span> std::runtime_error(commit.status().message());</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;commit-with-policies was successful\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00188">188</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a1c9758dc1282896a32575ea14658be51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c9758dc1282896a32575ea14658be51">&#9670;&nbsp;</a></span>Commit() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt; google::cloud::spanner::v1::Client::Commit </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; StatusOr&lt; <a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a> &gt;(<a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>)&gt; const &amp;&#160;</td>
          <td class="paramname"><em>mutator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits a read-write transaction. </p>
<p>Same as above, but uses the default rerun and backoff policies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mutator</td><td>the function called to create mutations</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  using ::google::cloud::StatusOr;</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  <span class="keyword">auto</span> commit_result = client.Commit(</div><div class="line">      [&amp;client](spanner::Transaction txn) -&gt; StatusOr&lt;spanner::Mutations&gt; {</div><div class="line">        <span class="keyword">auto</span> update = client.ExecuteDml(</div><div class="line">            std::move(txn),</div><div class="line">            spanner::SqlStatement(</div><div class="line">                <span class="stringliteral">&quot;UPDATE Albums SET MarketingBudget = MarketingBudget * 2&quot;</span></div><div class="line">                <span class="stringliteral">&quot; WHERE SingerId = 1 AND AlbumId = 1&quot;</span>));</div><div class="line">        <span class="keywordflow">if</span> (!update) <span class="keywordflow">return</span> update.status();</div><div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">spanner::Mutations</a>{};</div><div class="line">      });</div><div class="line">  <span class="keywordflow">if</span> (!commit_result) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(commit_result.status().message());</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00258">258</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a92d9ee7795112225c16e817031c0b284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d9ee7795112225c16e817031c0b284">&#9670;&nbsp;</a></span>Commit() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt; google::cloud::spanner::v1::Client::Commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a>&#160;</td>
          <td class="paramname"><em>mutations</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits the given <code>mutations</code> atomically in order. </p>
<p>This function uses the re-run loop described above with the default policies.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  <span class="keyword">auto</span> commit_result = client.Commit(<a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">spanner::Mutations</a>{</div><div class="line">      <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#a936586949e1d16f81cecf76ecd7f533c">spanner::UpdateMutationBuilder</a>(<span class="stringliteral">&quot;Albums&quot;</span>,</div><div class="line">                                     {<span class="stringliteral">&quot;SingerId&quot;</span>, <span class="stringliteral">&quot;AlbumId&quot;</span>, <span class="stringliteral">&quot;MarketingBudget&quot;</span>})</div><div class="line">          .EmplaceRow(1, 1, 100000)</div><div class="line">          .EmplaceRow(2, 2, 500000)</div><div class="line">          .Build()});</div><div class="line">  <span class="keywordflow">if</span> (!commit_result) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(commit_result.status().message());</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00276">276</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="ab10b1a02b140c2ac637a812cc0ddca18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10b1a02b140c2ac637a812cc0ddca18">&#9670;&nbsp;</a></span>Commit() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1CommitResult.html">CommitResult</a> &gt; google::cloud::spanner::v1::Client::Commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">Mutations</a>&#160;</td>
          <td class="paramname"><em>mutations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits a read-write transaction. </p>
<p>The commit might return a <code>kAborted</code> error. This can occur at any time. Commonly the cause is conflicts with concurrent transactions, however it can also happen for a variety of other reasons. If <code>Commit</code> returns <code>kAborted</code>, the caller may try to reapply the mutations within a new read-write transaction (which should share lock priority with the aborted transaction so that the new attempt has a slightly better chance of success).</p>
<dl class="section note"><dt>Note</dt><dd>Prefer the previous <code>Commit</code> overloads if you want to simply reapply mutations after a <code>kAborted</code> error.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>It is an error to call <code>Commit</code> with a read-only transaction.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>The transaction to commit. </td></tr>
    <tr><td class="paramname">mutations</td><td>The mutations to be executed when this transaction commits. All mutations are applied atomically, in the order they appear in this list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>StatusOr</code> containing the result of the commit or error status on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00280">280</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="ae86c2fcc13a3f2fb73a69cc144e932d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae86c2fcc13a3f2fb73a69cc144e932d7">&#9670;&nbsp;</a></span>ExecuteBatchDml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1BatchDmlResult.html">BatchDmlResult</a> &gt; google::cloud::spanner::v1::Client::ExecuteBatchDml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a> &gt;&#160;</td>
          <td class="paramname"><em>statements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a batch of SQL DML statements. </p>
<p>This method allows many statements to be run with lower latency than submitting them sequentially with <code>ExecuteDml</code>.</p>
<p>Statements are executed in order, sequentially. Execution will stop at the first failed statement; the remaining statements will not run.</p>
<p>As with all read-write transactions, the results will not be visible outside of the transaction until it is committed. For that reason, it is advisable to run this method from a <code>Commit</code> mutator.</p>
<dl class="section warning"><dt>Warning</dt><dd>A returned status of OK from this function does not imply that all the statements were executed successfully. For that, you need to inspect the <code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1BatchDmlResult.html#a4c70b01304ba9d5c2aa11ea9499bdf45" title="Either OK or the error Status of the SqlStatement that failed.">BatchDmlResult::status</a></code> field.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>The read-write transaction to execute the operation in. </td></tr>
    <tr><td class="paramname">statements</td><td>The list of statements to execute in this batch. Statements are executed serially, such that the effects of statement i are visible to statement i+1. Each statement must be a DML statement. Execution will stop at the first failed statement; the remaining statements will not run. Must not be empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> DmlStructs(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  std::int64_t rows_modified = 0;</div><div class="line">  <span class="keyword">auto</span> commit_result =</div><div class="line">      client.Commit([&amp;client, &amp;rows_modified](spanner::Transaction <span class="keyword">const</span>&amp; txn)</div><div class="line">                        -&gt; google::cloud::StatusOr&lt;spanner::Mutations&gt; {</div><div class="line">        <span class="keyword">auto</span> singer_info = std::make_tuple(<span class="stringliteral">&quot;Marc&quot;</span>, <span class="stringliteral">&quot;Richards&quot;</span>);</div><div class="line">        <span class="keyword">auto</span> sql = spanner::SqlStatement(</div><div class="line">            <span class="stringliteral">&quot;UPDATE Singers SET FirstName = &#39;Keith&#39; WHERE &quot;</span></div><div class="line">            <span class="stringliteral">&quot;STRUCT&lt;FirstName String, LastName String&gt;(FirstName, LastName) &quot;</span></div><div class="line">            <span class="stringliteral">&quot;= @name&quot;</span>,</div><div class="line">            {{<span class="stringliteral">&quot;name&quot;</span>, spanner::Value(std::move(singer_info))}});</div><div class="line">        <span class="keyword">auto</span> dml_result = client.ExecuteDml(txn, std::move(sql));</div><div class="line">        <span class="keywordflow">if</span> (!dml_result) <span class="keywordflow">return</span> dml_result.status();</div><div class="line">        rows_modified = dml_result-&gt;RowsModified();</div><div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">spanner::Mutations</a>{};</div><div class="line">      });</div><div class="line">  <span class="keywordflow">if</span> (!commit_result) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(commit_result.status().message());</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; rows_modified</div><div class="line">            &lt;&lt; <span class="stringliteral">&quot; update was successful [spanner_dml_structs]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00182">182</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a127aff25698e5e4df8daf169bf67e0f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127aff25698e5e4df8daf169bf67e0f6">&#9670;&nbsp;</a></span>ExecuteDml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1DmlResult.html">DmlResult</a> &gt; google::cloud::spanner::v1::Client::ExecuteDml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a SQL DML statement. </p>
<p>Operations inside read-write transactions might return <code>ABORTED</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<dl class="section note"><dt>Note</dt><dd>Single-use transactions are not supported with DML statements.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Execute this query as part of an existing transaction. </td></tr>
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  using ::google::cloud::StatusOr;</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  std::int64_t rows_inserted;</div><div class="line">  <span class="keyword">auto</span> commit_result = client.Commit(</div><div class="line">      [&amp;client, &amp;rows_inserted](</div><div class="line">          spanner::Transaction txn) -&gt; StatusOr&lt;spanner::Mutations&gt; {</div><div class="line">        <span class="keyword">auto</span> insert = client.ExecuteDml(</div><div class="line">            std::move(txn),</div><div class="line">            spanner::SqlStatement(</div><div class="line">                <span class="stringliteral">&quot;INSERT INTO Singers (SingerId, FirstName, LastName)&quot;</span></div><div class="line">                <span class="stringliteral">&quot;  VALUES (10, &#39;Virginia&#39;, &#39;Watson&#39;)&quot;</span>));</div><div class="line">        <span class="keywordflow">if</span> (!insert) <span class="keywordflow">return</span> insert.status();</div><div class="line">        rows_inserted = insert-&gt;RowsModified();</div><div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">spanner::Mutations</a>{};</div><div class="line">      });</div><div class="line">  <span class="keywordflow">if</span> (!commit_result) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(commit_result.status().message());</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Rows inserted: &quot;</span> &lt;&lt; rows_inserted;</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00155">155</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a916863fa9eb7e9865a51e9af4c590f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916863fa9eb7e9865a51e9af4c590f52">&#9670;&nbsp;</a></span>ExecutePartitionedDml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionedDmlResult.html">PartitionedDmlResult</a> &gt; google::cloud::spanner::v1::Client::ExecutePartitionedDml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a Partitioned DML SQL query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>the SQL statement to execute. Please see the <a href="https://cloud.google.com/spanner/docs/dml-partitioned">spanner documentation</a> for the restrictions on the SQL statements supported by this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> DmlPartitionedDelete(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  <span class="keyword">auto</span> result = client.ExecutePartitionedDml(</div><div class="line">      spanner::SqlStatement(<span class="stringliteral">&quot;DELETE FROM Singers WHERE SingerId &gt; 10&quot;</span>));</div><div class="line">  <span class="keywordflow">if</span> (!result) <span class="keywordflow">throw</span> std::runtime_error(result.status().message());</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Delete was successful [spanner_dml_partitioned_delete]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/spanner/docs/transactions#partitioned_dml_transactions">Partitioned DML Transactions</a> for an overview of Partitioned DML transactions. </dd>
<dd>
<a href="https://cloud.google.com/spanner/docs/dml-partitioned">Partitioned DML</a> for a description of which SQL statements are supported in Partitioned DML transactions. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00289">289</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a596d14f1d9ef6c8dd9e1777322bcd862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596d14f1d9ef6c8dd9e1777322bcd862">&#9670;&nbsp;</a></span>ExecuteQuery() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::ExecuteQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a SQL query. </p>
<p>Operations inside read-write transactions might return <code>ABORTED</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<p><code>SELECT * ...</code> queries are supported, but there's no guarantee about the order, nor number, of returned columns. Therefore, the caller must look up the wanted values in each row by column name. When the desired column names are known in advance, it is better to list them explicitly in the query's SELECT statement, so that unnecessary values are not returned/ignored, and the column order is known. This enables more efficient and simpler code.</p>
<dl class="section user"><dt>Example with explicitly selected columns.</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> QueryData(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  spanner::SqlStatement select(<span class="stringliteral">&quot;SELECT SingerId, LastName FROM Singers&quot;</span>);</div><div class="line">  <span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::string&gt;;</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(std::move(select));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; std::get&lt;0&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;LastName: &quot;</span> &lt;&lt; std::get&lt;1&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Query completed for [spanner_query_data]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example using SELECT *</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> QueryDataSelectStar(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  <span class="comment">// With a &quot;SELECT *&quot; query, we don&#39;t know the order in which the columns will</span></div><div class="line">  <span class="comment">// be returned (nor the number of columns). Therefore, we look up each value</span></div><div class="line">  <span class="comment">// based on the column name rather than its position.</span></div><div class="line">  spanner::SqlStatement select_star(<span class="stringliteral">&quot;SELECT * FROM Singers&quot;</span>);</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(std::move(select_star));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : rows) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> singer_id = row-&gt;get&lt;std::int64_t&gt;(<span class="stringliteral">&quot;SingerId&quot;</span>)) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; *singer_id &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cerr &lt;&lt; singer_id.status();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> last_name = row-&gt;get&lt;std::string&gt;(<span class="stringliteral">&quot;LastName&quot;</span>)) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;LastName: &quot;</span> &lt;&lt; *last_name;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cerr &lt;&lt; last_name.status();</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Query completed for [spanner_query_data_select_star]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html" title="Represents the stream of Rows returned from spanner::Client::Read() or spanner::Client::ExecuteQuery(...">RowStream</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00086">86</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a827034dccbec971ab702abe4ebc88ccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827034dccbec971ab702abe4ebc88ccb">&#9670;&nbsp;</a></span>ExecuteQuery() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::ExecuteQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html">Transaction::SingleUseOptions</a>&#160;</td>
          <td class="paramname"><em>transaction_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a SQL query. </p>
<p>Operations inside read-write transactions might return <code>ABORTED</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<p><code>SELECT * ...</code> queries are supported, but there's no guarantee about the order, nor number, of returned columns. Therefore, the caller must look up the wanted values in each row by column name. When the desired column names are known in advance, it is better to list them explicitly in the query's SELECT statement, so that unnecessary values are not returned/ignored, and the column order is known. This enables more efficient and simpler code.</p>
<dl class="section user"><dt>Example with explicitly selected columns.</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> QueryData(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  spanner::SqlStatement select(<span class="stringliteral">&quot;SELECT SingerId, LastName FROM Singers&quot;</span>);</div><div class="line">  <span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::string&gt;;</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(std::move(select));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; std::get&lt;0&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;LastName: &quot;</span> &lt;&lt; std::get&lt;1&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Query completed for [spanner_query_data]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example using SELECT *</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> QueryDataSelectStar(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  <span class="comment">// With a &quot;SELECT *&quot; query, we don&#39;t know the order in which the columns will</span></div><div class="line">  <span class="comment">// be returned (nor the number of columns). Therefore, we look up each value</span></div><div class="line">  <span class="comment">// based on the column name rather than its position.</span></div><div class="line">  spanner::SqlStatement select_star(<span class="stringliteral">&quot;SELECT * FROM Singers&quot;</span>);</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(std::move(select_star));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : rows) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> singer_id = row-&gt;get&lt;std::int64_t&gt;(<span class="stringliteral">&quot;SingerId&quot;</span>)) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; *singer_id &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cerr &lt;&lt; singer_id.status();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> last_name = row-&gt;get&lt;std::string&gt;(<span class="stringliteral">&quot;LastName&quot;</span>)) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;LastName: &quot;</span> &lt;&lt; *last_name;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cerr &lt;&lt; last_name.status();</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Query completed for [spanner_query_data_select_star]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html" title="Represents the stream of Rows returned from spanner::Client::Read() or spanner::Client::ExecuteQuery(...">RowStream</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction_options</td><td>Execute this query in a single-use transaction with these options. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00095">95</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a48f5bf404e83771953e48016f83af60b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f5bf404e83771953e48016f83af60b">&#9670;&nbsp;</a></span>ExecuteQuery() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::ExecuteQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a SQL query. </p>
<p>Operations inside read-write transactions might return <code>ABORTED</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<p><code>SELECT * ...</code> queries are supported, but there's no guarantee about the order, nor number, of returned columns. Therefore, the caller must look up the wanted values in each row by column name. When the desired column names are known in advance, it is better to list them explicitly in the query's SELECT statement, so that unnecessary values are not returned/ignored, and the column order is known. This enables more efficient and simpler code.</p>
<dl class="section user"><dt>Example with explicitly selected columns.</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> QueryData(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  spanner::SqlStatement select(<span class="stringliteral">&quot;SELECT SingerId, LastName FROM Singers&quot;</span>);</div><div class="line">  <span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::string&gt;;</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(std::move(select));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; std::get&lt;0&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;LastName: &quot;</span> &lt;&lt; std::get&lt;1&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Query completed for [spanner_query_data]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example using SELECT *</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> QueryDataSelectStar(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  <span class="comment">// With a &quot;SELECT *&quot; query, we don&#39;t know the order in which the columns will</span></div><div class="line">  <span class="comment">// be returned (nor the number of columns). Therefore, we look up each value</span></div><div class="line">  <span class="comment">// based on the column name rather than its position.</span></div><div class="line">  spanner::SqlStatement select_star(<span class="stringliteral">&quot;SELECT * FROM Singers&quot;</span>);</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(std::move(select_star));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : rows) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> singer_id = row-&gt;get&lt;std::int64_t&gt;(<span class="stringliteral">&quot;SingerId&quot;</span>)) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; *singer_id &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cerr &lt;&lt; singer_id.status();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> last_name = row-&gt;get&lt;std::string&gt;(<span class="stringliteral">&quot;LastName&quot;</span>)) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;LastName: &quot;</span> &lt;&lt; *last_name;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cerr &lt;&lt; last_name.status();</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Query completed for [spanner_query_data_select_star]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html" title="Represents the stream of Rows returned from spanner::Client::Read() or spanner::Client::ExecuteQuery(...">RowStream</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Execute this query as part of an existing transaction. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00105">105</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="abefbf19fbd42382137dde7a08ee66260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abefbf19fbd42382137dde7a08ee66260">&#9670;&nbsp;</a></span>ExecuteQuery() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::ExecuteQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryPartition.html">QueryPartition</a> const &amp;&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a SQL query on a subset of rows in a database. </p>
<p>Requires a prior call to <code>PartitionQuery</code> to obtain the partition information; see the documentation of that method for full details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>A <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryPartition.html" title="The QueryPartition class is a regular type that represents a single slice of a parallel SQL read.">QueryPartition</a></code>, obtained by calling <code>PartitionRead</code>. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html" title="Represents the stream of Rows returned from spanner::Client::Read() or spanner::Client::ExecuteQuery(...">RowStream</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  google::cloud::StatusOr&lt;spanner::QueryPartition&gt; partition =</div><div class="line">      remote_connection.ReceiveQueryPartitionFromRemoteMachine();</div><div class="line">  <span class="keywordflow">if</span> (!partition) <span class="keywordflow">throw</span> std::runtime_error(partition.status().message());</div><div class="line">  <span class="keyword">auto</span> rows = client.ExecuteQuery(*partition);</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : rows) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    ProcessRow(*row);</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00113">113</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a74d5527f75e7e7117fc6582ac3ec3b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d5527f75e7e7117fc6582ac3ec3b01">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a>&amp; google::cloud::spanner::v1::Client::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="add5121dc87307b073b544b274ca4228c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5121dc87307b073b544b274ca4228c">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a>&amp; google::cloud::spanner::v1::Client::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a322867f2d4e574e6bf73008946604ed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a322867f2d4e574e6bf73008946604ed2">&#9670;&nbsp;</a></span>PartitionQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryPartition.html">QueryPartition</a> &gt; &gt; google::cloud::spanner::v1::Client::PartitionQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>partition_options</em> = <code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a set of partitions that can be used to execute a query operation in parallel. </p>
<p>Each of the returned partitions can be passed to <code>ExecuteQuery</code> to specify a subset of the query result to read.</p>
<p>Partitions become invalid when the session used to create them is deleted, is idle for too long, begins a new transaction, or becomes too old. When any of these happen, it is not possible to resume the query, and the whole operation must be restarted from the beginning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>The transaction to execute the operation in. <b>Must</b> be a read-only snapshot transaction. </td></tr>
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">partition_options</td><td><code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html" title="Options passed to Client::PartitionRead or Client::PartitionQuery.">PartitionOptions</a></code> used for this request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>StatusOr</code> containing a vector of <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryPartition.html" title="The QueryPartition class is a regular type that represents a single slice of a parallel SQL read.">QueryPartition</a></code>s or error status on failure.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  google::cloud::StatusOr&lt;std::vector&lt;spanner::QueryPartition&gt;&gt; partitions =</div><div class="line">      client.PartitionQuery(</div><div class="line">          <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#afb1ad5a6098b32b3a40d52344339d791">spanner::MakeReadOnlyTransaction</a>(),</div><div class="line">          spanner::SqlStatement(</div><div class="line">              <span class="stringliteral">&quot;SELECT SingerId, FirstName, LastName FROM Singers&quot;</span>));</div><div class="line">  <span class="keywordflow">if</span> (!partitions) <span class="keywordflow">throw</span> std::runtime_error(partitions.status().message());</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; partition : *partitions) {</div><div class="line">    remote_connection.SendPartitionToRemoteMachine(partition);</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00148">148</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="abb890671663af5bbfc3e409d98db98cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb890671663af5bbfc3e409d98db98cf">&#9670;&nbsp;</a></span>PartitionRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadPartition.html">ReadPartition</a> &gt; &gt; google::cloud::spanner::v1::Client::PartitionRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a>&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a>&#160;</td>
          <td class="paramname"><em>read_options</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>partition_options</em> = <code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html">PartitionOptions</a>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a set of partitions that can be used to execute a read operation in parallel. </p>
<p>Each of the returned partitions can be passed to <code>Read</code> to specify a subset of the read result to read.</p>
<p>There are no ordering guarantees on rows returned among the returned partition, or even within each individual <code>Read</code> call issued with a given partition.</p>
<p>Partitions become invalid when the session used to create them is deleted, is idle for too long, begins a new transaction, or becomes too old. When any of these happen, it is not possible to resume the read, and the whole operation must be restarted from the beginning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>The transaction to execute the operation in. <b>Must</b> be a read-only snapshot transaction. </td></tr>
    <tr><td class="paramname">table</td><td>The name of the table in the database to be read. </td></tr>
    <tr><td class="paramname">keys</td><td>Identifies the rows to be yielded. If <code>read_options.index_name</code> is set, names keys in that index; otherwise names keys in the primary index of <code>table</code>. It is not an error for <code>keys</code> to name rows that do not exist in the database; <code>Read</code> yields nothing for nonexistent rows. </td></tr>
    <tr><td class="paramname">columns</td><td>The columns of <code>table</code> to be returned for each row matching this request. </td></tr>
    <tr><td class="paramname">read_options</td><td><code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html" title="Options passed to Client::Read or Client::PartitionRead.">ReadOptions</a></code> used for this request. </td></tr>
    <tr><td class="paramname">partition_options</td><td><code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1PartitionOptions.html" title="Options passed to Client::PartitionRead or Client::PartitionQuery.">PartitionOptions</a></code> used for this request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>StatusOr</code> containing a vector of <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadPartition.html" title="The ReadPartition class is a regular type that represents a single slice of a parallel Read operation...">ReadPartition</a></code> or error status on failure.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  spanner::Transaction ro_transaction = <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#afb1ad5a6098b32b3a40d52344339d791">spanner::MakeReadOnlyTransaction</a>();</div><div class="line">  google::cloud::StatusOr&lt;std::vector&lt;spanner::ReadPartition&gt;&gt; partitions =</div><div class="line">      client.PartitionRead(ro_transaction, <span class="stringliteral">&quot;Singers&quot;</span>, key_set,</div><div class="line">                           {<span class="stringliteral">&quot;SingerId&quot;</span>, <span class="stringliteral">&quot;FirstName&quot;</span>, <span class="stringliteral">&quot;LastName&quot;</span>});</div><div class="line">  <span class="keywordflow">if</span> (!partitions) <span class="keywordflow">throw</span> std::runtime_error(partitions.status().message());</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; partition : *partitions) {</div><div class="line">    remote_connection.SendPartitionToRemoteMachine(partition);</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00073">73</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="ad21455de67af4f689627a95c9d2d641a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21455de67af4f689627a95c9d2d641a">&#9670;&nbsp;</a></span>ProfileDml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileDmlResult.html">ProfileDmlResult</a> &gt; google::cloud::spanner::v1::Client::ProfileDml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Profiles a SQL DML statement. </p>
<p>Profiling executes the DML statement, provides the modified row count, <code>ExecutionPlan</code>, and execution statistics.</p>
<p>Operations inside read-write transactions might return <code>ABORTED</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<dl class="section note"><dt>Note</dt><dd>Single-use transactions are not supported with DML statements.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Execute this query as part of an existing transaction. </td></tr>
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line">  spanner::ProfileDmlResult dml_result;</div><div class="line">  <span class="keyword">auto</span> commit_result = client.Commit(</div><div class="line">      [&amp;client,</div><div class="line">       &amp;dml_result](spanner::Transaction txn) -&gt; StatusOr&lt;spanner::Mutations&gt; {</div><div class="line">        <span class="keyword">auto</span> update = client.ProfileDml(</div><div class="line">            std::move(txn),</div><div class="line">            spanner::SqlStatement(</div><div class="line">                <span class="stringliteral">&quot;UPDATE Albums SET MarketingBudget = MarketingBudget * 2&quot;</span></div><div class="line">                <span class="stringliteral">&quot; WHERE SingerId = 1 AND AlbumId = 1&quot;</span>));</div><div class="line">        <span class="keywordflow">if</span> (!update) <span class="keywordflow">return</span> update.status();</div><div class="line">        dml_result = *std::move(update);</div><div class="line">        <span class="keywordflow">return</span> <a class="code" href="namespacegoogle_1_1cloud_1_1spanner_1_1v1.html#ae374cb411ab9c8e4d7cdc18400fa6070">spanner::Mutations</a>{};</div><div class="line">      });</div><div class="line">  <span class="keywordflow">if</span> (!commit_result) {</div><div class="line">    <span class="keywordflow">throw</span> std::runtime_error(commit_result.status().message());</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Stats only available after statement has been executed.</span></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Rows modified: &quot;</span> &lt;&lt; dml_result.RowsModified();</div><div class="line">  <span class="keyword">auto</span> execution_stats = dml_result.ExecutionStats();</div><div class="line">  <span class="keywordflow">if</span> (execution_stats) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; stat : *execution_stats) {</div><div class="line">      std::cout &lt;&lt; stat.first &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span> &lt;&lt; stat.second &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00164">164</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a19baaf4e7c20ed6dfc25d5c2b13d5203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19baaf4e7c20ed6dfc25d5c2b13d5203">&#9670;&nbsp;</a></span>ProfileQuery() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html">ProfileQueryResult</a> google::cloud::spanner::v1::Client::ProfileQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Profiles a SQL query. </p>
<p>Profiling executes the query, provides the resulting rows, <code>ExecutionPlan</code>, and execution statistics.</p>
<p>Operations inside read-write transactions might return <code>kAborted</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<dl class="section note"><dt>Note</dt><dd>Callers must consume all rows from the result before execution statistics and <code>ExecutionPlan</code> are available.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html" title="Represents the stream of Rows and profile stats returned from spanner::Client::ProfileQuery().">ProfileQueryResult</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  spanner::SqlStatement select(</div><div class="line">      <span class="stringliteral">&quot;SELECT AlbumId, AlbumTitle, MarketingBudget&quot;</span></div><div class="line">      <span class="stringliteral">&quot; FROM Albums&quot;</span></div><div class="line">      <span class="stringliteral">&quot; WHERE AlbumTitle &gt;= &#39;Aardvark&#39; AND AlbumTitle &lt; &#39;Goo&#39;&quot;</span>);</div><div class="line">  <span class="keyword">auto</span> profile_query_result = client.ProfileQuery(std::move(select));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : profile_query_result) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    <span class="comment">// Discard rows for brevity in this example.</span></div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Stats are only available after all rows from the result have been read.</span></div><div class="line">  <span class="keyword">auto</span> execution_stats = profile_query_result.ExecutionStats();</div><div class="line">  <span class="keywordflow">if</span> (execution_stats) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; stat : *execution_stats) {</div><div class="line">      std::cout &lt;&lt; stat.first &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span> &lt;&lt; stat.second &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00120">120</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a710d5f0e198e4598ebfcfa644654dc38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710d5f0e198e4598ebfcfa644654dc38">&#9670;&nbsp;</a></span>ProfileQuery() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html">ProfileQueryResult</a> google::cloud::spanner::v1::Client::ProfileQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html">Transaction::SingleUseOptions</a>&#160;</td>
          <td class="paramname"><em>transaction_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Profiles a SQL query. </p>
<p>Profiling executes the query, provides the resulting rows, <code>ExecutionPlan</code>, and execution statistics.</p>
<p>Operations inside read-write transactions might return <code>kAborted</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<dl class="section note"><dt>Note</dt><dd>Callers must consume all rows from the result before execution statistics and <code>ExecutionPlan</code> are available.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html" title="Represents the stream of Rows and profile stats returned from spanner::Client::ProfileQuery().">ProfileQueryResult</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  spanner::SqlStatement select(</div><div class="line">      <span class="stringliteral">&quot;SELECT AlbumId, AlbumTitle, MarketingBudget&quot;</span></div><div class="line">      <span class="stringliteral">&quot; FROM Albums&quot;</span></div><div class="line">      <span class="stringliteral">&quot; WHERE AlbumTitle &gt;= &#39;Aardvark&#39; AND AlbumTitle &lt; &#39;Goo&#39;&quot;</span>);</div><div class="line">  <span class="keyword">auto</span> profile_query_result = client.ProfileQuery(std::move(select));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : profile_query_result) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    <span class="comment">// Discard rows for brevity in this example.</span></div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Stats are only available after all rows from the result have been read.</span></div><div class="line">  <span class="keyword">auto</span> execution_stats = profile_query_result.ExecutionStats();</div><div class="line">  <span class="keywordflow">if</span> (execution_stats) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; stat : *execution_stats) {</div><div class="line">      std::cout &lt;&lt; stat.first &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span> &lt;&lt; stat.second &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction_options</td><td>Execute this query in a single-use transaction with these options. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00129">129</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="ab2c24c9cfa6bea83f8e677f8574599a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c24c9cfa6bea83f8e677f8574599a2">&#9670;&nbsp;</a></span>ProfileQuery() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html">ProfileQueryResult</a> google::cloud::spanner::v1::Client::ProfileQuery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1SqlStatement.html">SqlStatement</a>&#160;</td>
          <td class="paramname"><em>statement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html">QueryOptions</a> const &amp;&#160;</td>
          <td class="paramname"><em>opts</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Profiles a SQL query. </p>
<p>Profiling executes the query, provides the resulting rows, <code>ExecutionPlan</code>, and execution statistics.</p>
<p>Operations inside read-write transactions might return <code>kAborted</code>. If this occurs, the application should restart the transaction from the beginning.</p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<dl class="section note"><dt>Note</dt><dd>Callers must consume all rows from the result before execution statistics and <code>ExecutionPlan</code> are available.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>The SQL statement to execute. </td></tr>
    <tr><td class="paramname">opts</td><td>The <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1QueryOptions.html" title="These QueryOptions allow users to configure features about how their SQL queries executes on the serv...">QueryOptions</a></code> to use for this call. If given, these will take precedence over the options set at the client and environment levels.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ProfileQueryResult.html" title="Represents the stream of Rows and profile stats returned from spanner::Client::ProfileQuery().">ProfileQueryResult</a></code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line">  spanner::SqlStatement select(</div><div class="line">      <span class="stringliteral">&quot;SELECT AlbumId, AlbumTitle, MarketingBudget&quot;</span></div><div class="line">      <span class="stringliteral">&quot; FROM Albums&quot;</span></div><div class="line">      <span class="stringliteral">&quot; WHERE AlbumTitle &gt;= &#39;Aardvark&#39; AND AlbumTitle &lt; &#39;Goo&#39;&quot;</span>);</div><div class="line">  <span class="keyword">auto</span> profile_query_result = client.ProfileQuery(std::move(select));</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : profile_query_result) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    <span class="comment">// Discard rows for brevity in this example.</span></div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Stats are only available after all rows from the result have been read.</span></div><div class="line">  <span class="keyword">auto</span> execution_stats = profile_query_result.ExecutionStats();</div><div class="line">  <span class="keywordflow">if</span> (execution_stats) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; stat : *execution_stats) {</div><div class="line">      std::cout &lt;&lt; stat.first &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span> &lt;&lt; stat.second &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Execute this query as part of an existing transaction. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00139">139</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="aacc341173c9c42bba0d0ee772054a874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc341173c9c42bba0d0ee772054a874">&#9670;&nbsp;</a></span>Read() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::Read </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a>&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a>&#160;</td>
          <td class="paramname"><em>read_options</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads rows from the database using key lookups and scans, as a simple key/value style alternative to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">ExecuteQuery()</a></code>. </p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The name of the table in the database to be read. </td></tr>
    <tr><td class="paramname">keys</td><td>Identifies the rows to be yielded. If <code>read_options.index_name</code> is set, names keys in that index; otherwise names keys in the primary index of <code>table</code>. It is not an error for <code>keys</code> to name rows that do not exist in the database; <code>Read</code> yields nothing for nonexistent rows. </td></tr>
    <tr><td class="paramname">columns</td><td>The columns of <code>table</code> to be returned for each row matching this request. </td></tr>
    <tr><td class="paramname">read_options</td><td><code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html" title="Options passed to Client::Read or Client::PartitionRead.">ReadOptions</a></code> used for this request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> ReadData(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> rows = client.Read(<span class="stringliteral">&quot;Albums&quot;</span>, google::cloud::spanner::KeySet::All(),</div><div class="line">                          {<span class="stringliteral">&quot;SingerId&quot;</span>, <span class="stringliteral">&quot;AlbumId&quot;</span>, <span class="stringliteral">&quot;AlbumTitle&quot;</span>});</div><div class="line">  <span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::int64_t, std::string&gt;;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; std::get&lt;0&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;AlbumId: &quot;</span> &lt;&lt; std::get&lt;1&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;AlbumTitle: &quot;</span> &lt;&lt; std::get&lt;2&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Read completed for [spanner_read_data]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code>ReadResult</code> can exceed 100 MiB, and no column value can exceed 10 MiB. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00033">33</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="af283b64268cef43bab44a1552a9d44a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af283b64268cef43bab44a1552a9d44a4">&#9670;&nbsp;</a></span>Read() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html">Transaction::SingleUseOptions</a>&#160;</td>
          <td class="paramname"><em>transaction_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a>&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a>&#160;</td>
          <td class="paramname"><em>read_options</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads rows from the database using key lookups and scans, as a simple key/value style alternative to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">ExecuteQuery()</a></code>. </p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The name of the table in the database to be read. </td></tr>
    <tr><td class="paramname">keys</td><td>Identifies the rows to be yielded. If <code>read_options.index_name</code> is set, names keys in that index; otherwise names keys in the primary index of <code>table</code>. It is not an error for <code>keys</code> to name rows that do not exist in the database; <code>Read</code> yields nothing for nonexistent rows. </td></tr>
    <tr><td class="paramname">columns</td><td>The columns of <code>table</code> to be returned for each row matching this request. </td></tr>
    <tr><td class="paramname">read_options</td><td><code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html" title="Options passed to Client::Read or Client::PartitionRead.">ReadOptions</a></code> used for this request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> ReadData(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> rows = client.Read(<span class="stringliteral">&quot;Albums&quot;</span>, google::cloud::spanner::KeySet::All(),</div><div class="line">                          {<span class="stringliteral">&quot;SingerId&quot;</span>, <span class="stringliteral">&quot;AlbumId&quot;</span>, <span class="stringliteral">&quot;AlbumTitle&quot;</span>});</div><div class="line">  <span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::int64_t, std::string&gt;;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; std::get&lt;0&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;AlbumId: &quot;</span> &lt;&lt; std::get&lt;1&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;AlbumTitle: &quot;</span> &lt;&lt; std::get&lt;2&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Read completed for [spanner_read_data]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code>ReadResult</code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction_options</td><td>Execute this read in a single-use transaction with these options. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00045">45</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="ac0bbf323909bc46958080cc1df2d839c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0bbf323909bc46958080cc1df2d839c">&#9670;&nbsp;</a></span>Read() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1KeySet.html">KeySet</a>&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html">ReadOptions</a>&#160;</td>
          <td class="paramname"><em>read_options</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads rows from the database using key lookups and scans, as a simple key/value style alternative to <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html#a596d14f1d9ef6c8dd9e1777322bcd862" title="Executes a SQL query.">ExecuteQuery()</a></code>. </p>
<p>Callers can optionally supply a <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html" title="The representation of a Cloud Spanner transaction.">Transaction</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction_1_1SingleUseOptions.html" title="Options for &quot;single-use&quot;, ReadOnly transactions, where Spanner chooses the read timestamp,...">Transaction::SingleUseOptions</a></code> used to create a single-use transaction - or neither, in which case a single-use transaction with default options is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The name of the table in the database to be read. </td></tr>
    <tr><td class="paramname">keys</td><td>Identifies the rows to be yielded. If <code>read_options.index_name</code> is set, names keys in that index; otherwise names keys in the primary index of <code>table</code>. It is not an error for <code>keys</code> to name rows that do not exist in the database; <code>Read</code> yields nothing for nonexistent rows. </td></tr>
    <tr><td class="paramname">columns</td><td>The columns of <code>table</code> to be returned for each row matching this request. </td></tr>
    <tr><td class="paramname">read_options</td><td><code><a class="el" href="structgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadOptions.html" title="Options passed to Client::Read or Client::PartitionRead.">ReadOptions</a></code> used for this request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> ReadData(google::cloud::spanner::Client client) {</div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1spanner.html">spanner</a> = ::google::cloud::spanner;</div><div class="line"></div><div class="line">  <span class="keyword">auto</span> rows = client.Read(<span class="stringliteral">&quot;Albums&quot;</span>, google::cloud::spanner::KeySet::All(),</div><div class="line">                          {<span class="stringliteral">&quot;SingerId&quot;</span>, <span class="stringliteral">&quot;AlbumId&quot;</span>, <span class="stringliteral">&quot;AlbumTitle&quot;</span>});</div><div class="line">  <span class="keyword">using</span> RowType = std::tuple&lt;std::int64_t, std::int64_t, std::string&gt;;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : spanner::StreamOf&lt;RowType&gt;(rows)) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;SingerId: &quot;</span> &lt;&lt; std::get&lt;0&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;AlbumId: &quot;</span> &lt;&lt; std::get&lt;1&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;AlbumTitle: &quot;</span> &lt;&lt; std::get&lt;2&gt;(*row) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">  }</div><div class="line"></div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Read completed for [spanner_read_data]\n&quot;</span>;</div><div class="line">}</div></div><!-- fragment --> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code>ReadResult</code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Execute this read as part of an existing transaction. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00058">58</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a24ac726c9bbff70d2948d3dc2f11a19a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ac726c9bbff70d2948d3dc2f11a19a">&#9670;&nbsp;</a></span>Read() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1RowStream.html">RowStream</a> google::cloud::spanner::v1::Client::Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadPartition.html">ReadPartition</a> const &amp;&#160;</td>
          <td class="paramname"><em>partition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads rows from a subset of rows in a database. </p>
<p>Requires a prior call to <code>PartitionRead</code> to obtain the partition information; see the documentation of that method for full details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>A <code><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1ReadPartition.html" title="The ReadPartition class is a regular type that represents a single slice of a parallel Read operation...">ReadPartition</a></code>, obtained by calling <code>PartitionRead</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No individual row in the <code>ReadResult</code> can exceed 100 MiB, and no column value can exceed 10 MiB.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  google::cloud::StatusOr&lt;spanner::ReadPartition&gt; partition =</div><div class="line">      remote_connection.ReceiveReadPartitionFromRemoteMachine();</div><div class="line">  <span class="keywordflow">if</span> (!partition) <span class="keywordflow">throw</span> std::runtime_error(partition.status().message());</div><div class="line">  <span class="keyword">auto</span> rows = client.Read(*partition);</div><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; row : rows) {</div><div class="line">    <span class="keywordflow">if</span> (!row) <span class="keywordflow">throw</span> std::runtime_error(row.status().message());</div><div class="line">    ProcessRow(*row);</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00069">69</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a7974b9225d19a93e51f5fd98267e57cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7974b9225d19a93e51f5fd98267e57cb">&#9670;&nbsp;</a></span>Rollback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::spanner::v1::Client::Rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Transaction.html">Transaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rolls back a read-write transaction, releasing any locks it holds. </p>
<p>At any time before <code>Commit</code>, the client can call <code>Rollback</code> to abort the transaction. It is a good idea to call this for any read-write transaction that includes one or more <code>Read</code>, <code>ExecuteQuery</code>, or <code>ExecuteDml</code> requests and ultimately decides not to commit.</p>
<dl class="section warning"><dt>Warning</dt><dd>It is an error to call <code>Rollback</code> with a read-only transaction.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>The transaction to roll back.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The error status of the rollback. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00285">285</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a21c65defdbe0a5050bffb796424b116b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c65defdbe0a5050bffb796424b116b">&#9670;&nbsp;</a></span>operator!=</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator!= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00141">141</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aa16bd9e5da51b688f3821b7cf0fa68d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16bd9e5da51b688f3821b7cf0fa68d6">&#9670;&nbsp;</a></span>operator==</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool operator== </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1spanner_1_1v1_1_1Client.html">Client</a> const &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00138">138</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
